    private void checkUsers(float[] cur_em,String filePath){
        float maxThreshold = -1f;
        float threshold=0.63f;
        int maxThresholdInd = -1;
        for(int i=0;i<userList.size();i++){
            User user= userList.get(i);
            float[] em=user.embeddings;
            float sim = similarity(em,cur_em);
            if (sim>=maxThreshold){
                maxThreshold = sim;
                maxThresholdInd=i;
            }
        }
        if(maxThreshold<threshold){
            try {
                User user = new User("Unknown", 1, cur_em);
                user.uid = userList.size() + 1;

                userList.add(user);
                Face face = new Face(cur_em, filePath, userList.size());
                db.userDao().insert(user);
                db.faceDao().insert(face);
            }catch (Exception e){
                Log.e("!flag","error",e);
            }
        }else{
            User user= userList.get(maxThresholdInd);
            float[] em=user.embeddings;
            user.embeddings=meanEmbeddings(em, cur_em, user.n);
            user.n=user.n+1;
            Face face =new Face(cur_em,filePath,maxThresholdInd+1);
            userList.set(maxThresholdInd,user);
            db.userDao().updateUser(user);
            db.faceDao().insert(face);
        }
    }
